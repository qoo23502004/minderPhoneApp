<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>歡迎蒞臨明德新村網頁</title>
    
    <script src="phonegap.js"></script>
    
    <div id="titleName"><img src="minder.jpg" alt=""></div>
    
    
    <link rel="stylesheet" href="style.css" type="text/css" media="screen">
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script>

<div class="example">
    <div class="menu">
        <span>
            <ul id="nav">
                <li><a href="index.html">首頁</a></li>
                <li><a href="main.html">歷史館</a>
                    <div class="subs">
                        <div>
                            <ul>
                                <li><h3>Submenu #1</h3>
                                    <ul>
                                        <li><a href="#">歷史館</a></li>
                                    </ul>
                                </li>
                                <li><h3>Submenu #2</h3>
                                    <ul>
                                        <li><a href="#">Link 4</a></li>

                                    </ul>
                                </li>
                                <li><h3>Submenu #3</h3>
                                    <ul>
                                        <li><a href="#">Link 5</a></li>
                                        <li><a href="#">Link 6</a></li>
                                    </ul>
                                </li>
                            </ul>
                        </div>
                    </div>
                </li>
                <li><a href="#">影片</a>
                    <div class="subs">
                        <div>
                            <ul>
                                <li><h3>Submenu #1</h3>
                                    <ul>
                                        <li><a href="#">Link 1</a></li>

                                    </ul>
                                </li>
                                <li><h3>Submenu #2</h3>
                                    <ul>
                                        <li><a href="#">Link 4</a></li>

                                    </ul>
                                </li>
                                <li><h3>Submenu #3</h3>
                                    <ul>
                                        <li><a href="#">Link 5</a></li>
                                        
                                    </ul>
                                </li>
                            </ul>
                        </div>
                    </div>
                </li>
                <li><a href="http://tw.yahoo.com">Yahoo!</a></li>
                <li><a href="http://www.google.com.tw">Google</a></li>
            </ul>
        </span>
    </div>
</div>

<script type="text/javascript">
jQuery(window).load(function() {

    $("#nav > li > a").click(function () { // binding onclick
        if ($(this).parent().hasClass('selected')) {
            $("#nav .selected div div").slideUp(100); // hiding popups
            $("#nav .selected").removeClass("selected");
        } else {
            $("#nav .selected div div").slideUp(100); // hiding popups
            $("#nav .selected").removeClass("selected");

            if ($(this).next(".subs").length) {
                $(this).parent().addClass("selected"); // display popup
                $(this).next(".subs").children().slideDown(200);
            }
        }
    }); 

});
</script>    
            
                
                        
</head>

<body onload="getLocation()" background="background.jpg">







<p id="string"></p>
<p id="time"></p>
<script>
 var s = document.getElementById("string");
 var t = document.getElementById("time");
 var a;
 var b;
 var timecount;
 var count=0;
 var hour=0;
 var min=0;
 var second=0;
 countTime();   
function countTime()
{　
   
    second++;
    if(second==60){
        second=0;
        min++;
    }
    else if(min==60){
        min=0;
        hour++;
    }
   
   timecount=setTimeout("countTime( )", 1000)
   t.innerHTML="<br>您的停留時間:"+ hour + "小時" + min + "分" + second +"秒"
   t.style.color="red";
   t.style.background="pink";
}    
    
    
    
    
function countSecond()
{　
   
    count++;
   a=setTimeout("getLocation()",3000)
   b=setTimeout("countSecond( )", 3000)
   s.innerHTML="<br>刷新次數:"+ count
   s.style.color="black";
   s.style.background="#4fffff";

}
function countStop() {
    clearTimeout(a);
    clearTimeout(b);
    s.innerHTML=""
}
   

</script>
<button onclick="countSecond()">開始自動刷新</button>
<button onclick="countStop()">停止自動刷新</button>
<button onclick="getLocation()">手動刷新位置資訊</button>
<p id="demo"></p>
<div id="mapholder"></div>

    <script src="http://maps.google.com/maps/api/js?sensor=false"></script>
<script>
    
var x = document.getElementById("demo");

    
function getLocation() {
    if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(showPosition, showError);
    } else { 
        x.innerHTML = "您的網頁瀏覽器尚未支援Geolocation.";
    }
}    
  
function showPosition(position) {
    lat = position.coords.latitude;
    lon = position.coords.longitude;
    latlon = new google.maps.LatLng(lat, lon)
 
    var myOptions = {
    center:latlon,zoom:18,
    mapTypeId:google.maps.MapTypeId.ROADMAP,
    mapTypeControl:true,
    navigationControlOptions:{style:google.maps.NavigationControlStyle.SMALL}
    }
    
    var map = new google.maps.Map(document.getElementById("mapholder"), myOptions);
    
    if (position.coords.longitude<=120.291000 && position.coords.latitude<=22.754000 && position.coords.longitude>=120.290000 && position.coords.latitude>=22.753500){
    x.innerHTML = "緯度: " + (position.coords.latitude) + 
    "<br>經度: " + position.coords.longitude+"<br>這是我家位置";    
    }
    else if (position.coords.longitude<=120.42424010000010 && position.coords.latitude<=22.708400 && position.coords.longitude>=120.42424009999900 && position.coords.latitude>=22.708340){
    x.innerHTML = "緯度: " + (position.coords.latitude) + 
    "<br>經度: " + position.coords.longitude+"<br>這裡是電腦網路位置";    
    }
    else if (position.coords.longitude<=120.407900 && position.coords.latitude<=22.724100 && position.coords.longitude>=120.407500 && position.coords.latitude>=22.723400){
    x.innerHTML = "緯度: " + (position.coords.latitude) + 
    "<br>經度: " + position.coords.longitude+"<br>此處為科技大樓";    
    }
    else if ( position.coords.longitude<=120.408250 && position.coords.latitude<=22.724400 && position.coords.longitude>=120.407500 && position.coords.latitude>=22.723500){
    x.innerHTML = "緯度: " + (position.coords.latitude) + 
    "<br>經度: " + position.coords.longitude+"<br>此處為科技大樓";    
    }
    else{
    x.innerHTML = "緯度: " + position.coords.latitude + 
    "<br>經度: " + (position.coords.longitude);
    
    }
    
    
}

function showError(error) {
    switch(error.code) {
        case error.PERMISSION_DENIED:
            x.innerHTML = "您已拒絕透露地理位置，所以無法使用Geolocation"
            break;
        case error.POSITION_UNAVAILABLE:
            x.innerHTML = "位置訊息不可用"
            break;
        case error.TIMEOUT:
            x.innerHTML = "獲取用戶地理位置時間超時"
            break;
        case error.UNKNOWN_ERROR:
            x.innerHTML = "發生不明錯誤"
            break;
    }
}    
    
    
    

</script>
    
</body>


<footer id="footer">
    <h1>修訂者:Johnson_Chang</h1>
</footer>
</html>